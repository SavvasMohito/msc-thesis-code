analyze_requirements:
  description: >
    Analyze the following product manager requirements:

    {requirements_text}

    Your goal is to understand the application's purpose and break it down into
    a list of specific, high-level functional requirements.

    CRITICAL INSTRUCTIONS:
    1. Read the requirements carefully to understand the core functionality.
    2. Write a concise, one-paragraph summary of the application's main purpose.
    3. Decompose the requirements into a list of specific features. Each item
       in the list should represent a distinct capability of the system.
       - Example: "User registration and login with multi-factor authentication"
       - Example: "A searchable product catalog with detailed item descriptions"
    4. Ensure the output is a valid JSON object.
  expected_output: >
    A JSON object matching the AnalysisOutput schema.
  agent: requirements_analyst

analyze_architecture:
  description: >
    Based on the following product manager requirements:

    {requirements_text}

    Your goal is to create a high-level system architecture overview.

    CRITICAL INSTRUCTIONS:
    1.  Analyze the components, data flows, and user interactions described
        in the requirements.
    2.  Write a brief, one-paragraph summary of the proposed system architecture.
        Describe the main components (e.g., frontend, backend, database) and how
        they interact.
    3.  Generate a Mermaid diagram (using `graph TD` syntax) to visually represent
        the high-level architecture. The diagram should be simple and clear,
        showing the key components and their relationships.
    4.  Ensure the output is a valid JSON object.
  expected_output: >
    A JSON object matching the ArchitectureOutput schema.
  agent: system_architect

